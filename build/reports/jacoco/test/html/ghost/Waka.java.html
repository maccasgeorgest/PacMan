<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Waka.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Waka</a> &gt; <a href="index.source.html" class="el_package">ghost</a> &gt; <span class="el_source">Waka.java</span></div><h1>Waka.java</h1><pre class="source lang-java linenums">package ghost;

import processing.core.PImage;

public class Waka extends MovableCharacter {

<span class="nc" id="L7">    private int changeSprite = 0;  </span>
    private PImage lastSprite;
    private PImage livesSprite;

    public Waka(PImage sprite, int x, int y) {
<span class="nc" id="L12">        super(sprite, x, y);</span>
<span class="nc" id="L13">        this.yVel = 0;</span>
<span class="nc" id="L14">        this.xVel = 0; </span>
<span class="nc" id="L15">        this.name = &quot;Waka&quot;;</span>
<span class="nc" id="L16">    }</span>

    public void tick(App app) { 
<span class="nc" id="L19">        this.setCellCoord();</span>
<span class="nc" id="L20">        this.moveAfterCollision(app);</span>

<span class="nc bnc" id="L22" title="All 2 branches missed.">        if (!this.skipMovement) {</span>
<span class="nc" id="L23">            this.y += this.yVel;</span>
<span class="nc" id="L24">            this.x += this.xVel;</span>
        }
        
<span class="nc" id="L27">        lastSprite = app.loadImage(&quot;src/main/resources/playerLeft.png&quot;); // since Waka starts facing left</span>
<span class="nc" id="L28">        livesSprite = app.loadImage(&quot;src/main/resources/playerRight.png&quot;); // this is the sprite used to indicate the amount of remaining waka lives </span>

        // draw lives 
<span class="nc" id="L31">        int space = 29;</span>
<span class="nc bnc" id="L32" title="All 2 branches missed.">        for (int i = 0; i &lt; app.lives; i ++) {</span>
<span class="nc" id="L33">            app.image(this.livesSprite, i * space + 9, 543);</span>
        }

<span class="nc" id="L36">        this.spriteTransition(app);</span>

<span class="nc bnc" id="L38" title="All 2 branches missed.">        if (this.changeSprite &lt; 16) {</span>
<span class="nc" id="L39">            this.changeSprite++;</span>
        } else {
<span class="nc" id="L41">            this.changeSprite = 0;  </span>
        }
<span class="nc" id="L43">    }</span>

    public void spriteTransition(App app) {
<span class="nc bnc" id="L46" title="All 2 branches missed.">        if (this.changeSprite &gt; 8) {</span>
<span class="nc" id="L47">            this.sprite = app.loadImage(&quot;src/main/resources/playerClosed.png&quot;);</span>
<span class="nc" id="L48">            return;</span>
        }
<span class="nc bnc" id="L50" title="All 2 branches missed.">        if (this.direction.equals(&quot;right&quot;)) {</span>
<span class="nc" id="L51">            this.sprite = app.loadImage(&quot;src/main/resources/playerRight.png&quot;);</span>
<span class="nc" id="L52">            this.lastSprite = app.loadImage(&quot;src/main/resources/playerRight.png&quot;);</span>
<span class="nc bnc" id="L53" title="All 2 branches missed.">        } else if (this.direction.equals(&quot;left&quot;)) {</span>
<span class="nc" id="L54">            this.sprite = app.loadImage(&quot;src/main/resources/playerLeft.png&quot;);</span>
<span class="nc" id="L55">            this.lastSprite = app.loadImage(&quot;src/main/resources/playerLeft.png&quot;);</span>
<span class="nc bnc" id="L56" title="All 2 branches missed.">        } else if (this.direction.equals(&quot;down&quot;)) {</span>
<span class="nc" id="L57">            this.sprite = app.loadImage(&quot;src/main/resources/playerDown.png&quot;);</span>
<span class="nc" id="L58">            this.lastSprite = app.loadImage(&quot;src/main/resources/playerDown.png&quot;);</span>
<span class="nc bnc" id="L59" title="All 2 branches missed.">        } else if (this.direction.equals(&quot;up&quot;)) {</span>
<span class="nc" id="L60">            this.sprite = app.loadImage(&quot;src/main/resources/playerUp.png&quot;);</span>
<span class="nc" id="L61">            this.lastSprite = app.loadImage(&quot;src/main/resources/playerUp.png&quot;);</span>
<span class="nc bnc" id="L62" title="All 4 branches missed.">        } else if (this.xVel == 0 &amp;&amp; this.yVel == 0) {</span>
<span class="nc" id="L63">            this.sprite = this.lastSprite;</span>
        }
<span class="nc" id="L65">    } </span>

    public void moveHandler(App app, int move) {
<span class="nc bnc" id="L68" title="All 2 branches missed.">            if (move == 38) {</span>
<span class="nc" id="L69">                this.moveAttempt = &quot;up&quot;;</span>
<span class="nc" id="L70">                app.waka.move(&quot;up&quot;, app);</span>
<span class="nc bnc" id="L71" title="All 2 branches missed.">            } else if (move == 40) {</span>
<span class="nc" id="L72">                this.moveAttempt = &quot;down&quot;;</span>
<span class="nc" id="L73">                app.waka.move(&quot;down&quot;, app);</span>
<span class="nc bnc" id="L74" title="All 2 branches missed.">            } else if (move == 37) {</span>
<span class="nc" id="L75">                this.moveAttempt = &quot;left&quot;;</span>
<span class="nc" id="L76">                app.waka.move(&quot;left&quot;, app);</span>
<span class="nc bnc" id="L77" title="All 2 branches missed.">            } else if (move == 39) {</span>
<span class="nc" id="L78">                this.moveAttempt = &quot;right&quot;;</span>
<span class="nc" id="L79">                app.waka.move(&quot;right&quot;, app);</span>
            }
<span class="nc" id="L81">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>